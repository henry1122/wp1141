{"ast":null,"code":"import { BallColor, BallType, AnimationState } from '../types/game';\nexport const GAME_CONFIG = {\n  BOARD_WIDTH: 10,\n  BOARD_HEIGHT: 12,\n  MIN_MATCH_COUNT: 3,\n  FALL_SPEED: 500,\n  DROP_INTERVAL: 3000,\n  COLORS: [BallColor.RED, BallColor.BLUE, BallColor.GREEN, BallColor.YELLOW, BallColor.PURPLE, BallColor.ORANGE]\n};\nexport const createEmptyBoard = () => {\n  return Array(GAME_CONFIG.BOARD_HEIGHT).fill(null).map(() => Array(GAME_CONFIG.BOARD_WIDTH).fill(null));\n};\nexport const generateRandomBall = position => {\n  const colors = GAME_CONFIG.COLORS;\n  const randomColor = colors[Math.floor(Math.random() * colors.length)];\n\n  // 5% 機率生成特殊球\n  const isSpecial = Math.random() < 0.05;\n  const ballType = isSpecial ? Math.random() < 0.5 ? BallType.RAINBOW : BallType.BOMB : BallType.NORMAL;\n  return {\n    id: `${position.row}-${position.col}-${Date.now()}-${Math.random()}`,\n    color: ballType === BallType.RAINBOW ? BallColor.RED : randomColor,\n    // Rainbow ball 會循環顏色\n    type: ballType,\n    position,\n    animationState: AnimationState.FALLING\n  };\n};\nexport const findMatches = (board, ball) => {\n  const matches = [];\n  const visited = new Set();\n  const dfs = (row, col, targetColor) => {\n    const key = `${row}-${col}`;\n    if (visited.has(key)) return;\n    if (row < 0 || row >= board.length || col < 0 || col >= board[0].length) return;\n    const currentBall = board[row][col];\n    if (!currentBall || currentBall.color !== targetColor) return;\n    visited.add(key);\n    matches.push({\n      row,\n      col\n    });\n\n    // 檢查四個方向\n    dfs(row - 1, col, targetColor); // 上\n    dfs(row + 1, col, targetColor); // 下\n    dfs(row, col - 1, targetColor); // 左\n    dfs(row, col + 1, targetColor); // 右\n  };\n  dfs(ball.position.row, ball.position.col, ball.color);\n  return matches.length >= GAME_CONFIG.MIN_MATCH_COUNT ? matches : [];\n};\nexport const findAllMatches = board => {\n  const allMatches = [];\n  const processed = new Set();\n  for (let row = 0; row < board.length; row++) {\n    for (let col = 0; col < board[0].length; col++) {\n      const ball = board[row][col];\n      if (!ball || processed.has(`${row}-${col}`)) continue;\n      const matches = findMatches(board, ball);\n      if (matches.length > 0) {\n        matches.forEach(pos => {\n          processed.add(`${pos.row}-${pos.col}`);\n          allMatches.push(pos);\n        });\n      }\n    }\n  }\n  return allMatches;\n};\nexport const applyGravity = board => {\n  const newBoard = createEmptyBoard();\n  for (let col = 0; col < GAME_CONFIG.BOARD_WIDTH; col++) {\n    const column = [];\n\n    // 收集該列所有非空的球\n    for (let row = GAME_CONFIG.BOARD_HEIGHT - 1; row >= 0; row--) {\n      if (board[row][col]) {\n        column.push(board[row][col]);\n      }\n    }\n\n    // 從底部開始放置球\n    for (let i = 0; i < column.length; i++) {\n      const newRow = GAME_CONFIG.BOARD_HEIGHT - 1 - i;\n      const ball = column[i];\n      ball.position = {\n        row: newRow,\n        col\n      };\n      ball.animationState = AnimationState.FALLING;\n      newBoard[newRow][col] = ball;\n    }\n  }\n  return newBoard;\n};\nexport const removeBalls = (board, positions) => {\n  const newBoard = board.map(row => [...row]);\n  positions.forEach(pos => {\n    if (newBoard[pos.row][pos.col]) {\n      newBoard[pos.row][pos.col].animationState = AnimationState.EXPLODING;\n      // 實際移除會在動畫完成後進行\n      setTimeout(() => {\n        newBoard[pos.row][pos.col] = null;\n      }, 300);\n    }\n  });\n  return newBoard;\n};\nexport const calculateScore = (matchCount, combo) => {\n  const baseScore = matchCount * 10;\n  const comboMultiplier = Math.max(1, combo);\n  return Math.floor(baseScore * comboMultiplier * 1.5);\n};\nexport const isGameOver = board => {\n  // 檢查頂部兩行是否有球\n  for (let row = 0; row < 2; row++) {\n    for (let col = 0; col < GAME_CONFIG.BOARD_WIDTH; col++) {\n      if (board[row][col]) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\nexport const canPlaceBall = (board, col) => {\n  return board[0][col] === null;\n};\nexport const getLowestEmptyRow = (board, col) => {\n  for (let row = GAME_CONFIG.BOARD_HEIGHT - 1; row >= 0; row--) {\n    if (board[row][col] === null) {\n      return row;\n    }\n  }\n  return -1; // 該列已滿\n};","map":{"version":3,"names":["BallColor","BallType","AnimationState","GAME_CONFIG","BOARD_WIDTH","BOARD_HEIGHT","MIN_MATCH_COUNT","FALL_SPEED","DROP_INTERVAL","COLORS","RED","BLUE","GREEN","YELLOW","PURPLE","ORANGE","createEmptyBoard","Array","fill","map","generateRandomBall","position","colors","randomColor","Math","floor","random","length","isSpecial","ballType","RAINBOW","BOMB","NORMAL","id","row","col","Date","now","color","type","animationState","FALLING","findMatches","board","ball","matches","visited","Set","dfs","targetColor","key","has","currentBall","add","push","findAllMatches","allMatches","processed","forEach","pos","applyGravity","newBoard","column","i","newRow","removeBalls","positions","EXPLODING","setTimeout","calculateScore","matchCount","combo","baseScore","comboMultiplier","max","isGameOver","canPlaceBall","getLowestEmptyRow"],"sources":["C:/Users/User/Desktop/wp1141/hw2/src/utils/gameLogic.ts"],"sourcesContent":["import { Ball, BallColor, BallType, Position, AnimationState } from '../types/game';\r\n\r\nexport const GAME_CONFIG = {\r\n  BOARD_WIDTH: 10,\r\n  BOARD_HEIGHT: 12,\r\n  MIN_MATCH_COUNT: 3,\r\n  FALL_SPEED: 500,\r\n  DROP_INTERVAL: 3000,\r\n  COLORS: [\r\n    BallColor.RED,\r\n    BallColor.BLUE,\r\n    BallColor.GREEN,\r\n    BallColor.YELLOW,\r\n    BallColor.PURPLE,\r\n    BallColor.ORANGE\r\n  ]\r\n};\r\n\r\nexport const createEmptyBoard = (): (Ball | null)[][] => {\r\n  return Array(GAME_CONFIG.BOARD_HEIGHT).fill(null).map(() => \r\n    Array(GAME_CONFIG.BOARD_WIDTH).fill(null)\r\n  );\r\n};\r\n\r\nexport const generateRandomBall = (position: Position): Ball => {\r\n  const colors = GAME_CONFIG.COLORS;\r\n  const randomColor = colors[Math.floor(Math.random() * colors.length)];\r\n  \r\n  // 5% 機率生成特殊球\r\n  const isSpecial = Math.random() < 0.05;\r\n  const ballType = isSpecial ? \r\n    (Math.random() < 0.5 ? BallType.RAINBOW : BallType.BOMB) : \r\n    BallType.NORMAL;\r\n\r\n  return {\r\n    id: `${position.row}-${position.col}-${Date.now()}-${Math.random()}`,\r\n    color: ballType === BallType.RAINBOW ? BallColor.RED : randomColor, // Rainbow ball 會循環顏色\r\n    type: ballType,\r\n    position,\r\n    animationState: AnimationState.FALLING\r\n  };\r\n};\r\n\r\nexport const findMatches = (board: (Ball | null)[][], ball: Ball): Position[] => {\r\n  const matches: Position[] = [];\r\n  const visited = new Set<string>();\r\n  \r\n  const dfs = (row: number, col: number, targetColor: BallColor) => {\r\n    const key = `${row}-${col}`;\r\n    if (visited.has(key)) return;\r\n    if (row < 0 || row >= board.length || col < 0 || col >= board[0].length) return;\r\n    \r\n    const currentBall = board[row][col];\r\n    if (!currentBall || currentBall.color !== targetColor) return;\r\n    \r\n    visited.add(key);\r\n    matches.push({ row, col });\r\n    \r\n    // 檢查四個方向\r\n    dfs(row - 1, col, targetColor); // 上\r\n    dfs(row + 1, col, targetColor); // 下\r\n    dfs(row, col - 1, targetColor); // 左\r\n    dfs(row, col + 1, targetColor); // 右\r\n  };\r\n  \r\n  dfs(ball.position.row, ball.position.col, ball.color);\r\n  \r\n  return matches.length >= GAME_CONFIG.MIN_MATCH_COUNT ? matches : [];\r\n};\r\n\r\nexport const findAllMatches = (board: (Ball | null)[][]): Position[] => {\r\n  const allMatches: Position[] = [];\r\n  const processed = new Set<string>();\r\n  \r\n  for (let row = 0; row < board.length; row++) {\r\n    for (let col = 0; col < board[0].length; col++) {\r\n      const ball = board[row][col];\r\n      if (!ball || processed.has(`${row}-${col}`)) continue;\r\n      \r\n      const matches = findMatches(board, ball);\r\n      if (matches.length > 0) {\r\n        matches.forEach(pos => {\r\n          processed.add(`${pos.row}-${pos.col}`);\r\n          allMatches.push(pos);\r\n        });\r\n      }\r\n    }\r\n  }\r\n  \r\n  return allMatches;\r\n};\r\n\r\nexport const applyGravity = (board: (Ball | null)[][]): (Ball | null)[][] => {\r\n  const newBoard = createEmptyBoard();\r\n  \r\n  for (let col = 0; col < GAME_CONFIG.BOARD_WIDTH; col++) {\r\n    const column: Ball[] = [];\r\n    \r\n    // 收集該列所有非空的球\r\n    for (let row = GAME_CONFIG.BOARD_HEIGHT - 1; row >= 0; row--) {\r\n      if (board[row][col]) {\r\n        column.push(board[row][col]!);\r\n      }\r\n    }\r\n    \r\n    // 從底部開始放置球\r\n    for (let i = 0; i < column.length; i++) {\r\n      const newRow = GAME_CONFIG.BOARD_HEIGHT - 1 - i;\r\n      const ball = column[i];\r\n      ball.position = { row: newRow, col };\r\n      ball.animationState = AnimationState.FALLING;\r\n      newBoard[newRow][col] = ball;\r\n    }\r\n  }\r\n  \r\n  return newBoard;\r\n};\r\n\r\nexport const removeBalls = (board: (Ball | null)[][], positions: Position[]): (Ball | null)[][] => {\r\n  const newBoard = board.map(row => [...row]);\r\n  \r\n  positions.forEach(pos => {\r\n    if (newBoard[pos.row][pos.col]) {\r\n      newBoard[pos.row][pos.col]!.animationState = AnimationState.EXPLODING;\r\n      // 實際移除會在動畫完成後進行\r\n      setTimeout(() => {\r\n        newBoard[pos.row][pos.col] = null;\r\n      }, 300);\r\n    }\r\n  });\r\n  \r\n  return newBoard;\r\n};\r\n\r\nexport const calculateScore = (matchCount: number, combo: number): number => {\r\n  const baseScore = matchCount * 10;\r\n  const comboMultiplier = Math.max(1, combo);\r\n  return Math.floor(baseScore * comboMultiplier * 1.5);\r\n};\r\n\r\nexport const isGameOver = (board: (Ball | null)[][]): boolean => {\r\n  // 檢查頂部兩行是否有球\r\n  for (let row = 0; row < 2; row++) {\r\n    for (let col = 0; col < GAME_CONFIG.BOARD_WIDTH; col++) {\r\n      if (board[row][col]) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const canPlaceBall = (board: (Ball | null)[][], col: number): boolean => {\r\n  return board[0][col] === null;\r\n};\r\n\r\nexport const getLowestEmptyRow = (board: (Ball | null)[][], col: number): number => {\r\n  for (let row = GAME_CONFIG.BOARD_HEIGHT - 1; row >= 0; row--) {\r\n    if (board[row][col] === null) {\r\n      return row;\r\n    }\r\n  }\r\n  return -1; // 該列已滿\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}