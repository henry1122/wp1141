{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\wp1141\\\\hw2\\\\src\\\\components\\\\RandomEvents.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLanguage } from '../contexts/LanguageContext';\nimport './RandomEvents.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst events = [{\n  id: 'lucky_drop',\n  title: 'Âπ∏ÈÅãÊéâËêΩ',\n  titleEn: 'Lucky Drop',\n  description: '‰∏ã3È°ÜÁêÉÈÉΩÊòØÂΩ©ËôπÁêÉÔºÅ',\n  descriptionEn: 'Next 3 balls are rainbow balls!',\n  icon: 'üçÄ',\n  effect: 'luckyDrop',\n  probability: 0.1\n}, {\n  id: 'time_freeze',\n  title: 'ÊôÇÈñìÂáçÁµê',\n  titleEn: 'Time Freeze',\n  description: 'ÊôÇÈñìÊö´ÂÅú10ÁßíÔºÅ',\n  descriptionEn: 'Time stops for 10 seconds!',\n  icon: '‚ùÑÔ∏è',\n  effect: 'timeFreeze',\n  probability: 0.08\n}, {\n  id: 'color_chaos',\n  title: 'È°èËâ≤Ê∑∑‰∫Ç',\n  titleEn: 'Color Chaos',\n  description: 'ÊâÄÊúâÁêÉÈö®Ê©üËÆäËâ≤ÔºÅ',\n  descriptionEn: 'All balls change colors randomly!',\n  icon: 'üåÄ',\n  effect: 'colorChaos',\n  probability: 0.05\n}, {\n  id: 'double_points',\n  title: 'ÈõôÂÄçÁ©çÂàÜ',\n  titleEn: 'Double Points',\n  description: 'Êé•‰∏ã‰æÜ30ÁßíÈõôÂÄçÁ©çÂàÜÔºÅ',\n  descriptionEn: 'Double points for 30 seconds!',\n  icon: '‚≠ê',\n  effect: 'doublePoints',\n  probability: 0.12\n}];\nconst RandomEvents = ({\n  score,\n  timeElapsed,\n  onEvent\n}) => {\n  _s();\n  const {\n    language\n  } = useLanguage();\n  const [currentEvent, setCurrentEvent] = useState(null);\n  const [showEvent, setShowEvent] = useState(false);\n\n  // ÊØè30ÁßíÊ™¢Êü•‰∏ÄÊ¨°Èö®Ê©ü‰∫ã‰ª∂\n  useEffect(() => {\n    if (timeElapsed > 0 && timeElapsed % 30 === 0) {\n      const shouldTriggerEvent = Math.random() < 0.3; // 30% Ê©üÁéáËß∏Áôº‰∫ã‰ª∂\n\n      if (shouldTriggerEvent) {\n        const availableEvents = events.filter(event => Math.random() < event.probability);\n        if (availableEvents.length > 0) {\n          const randomEvent = availableEvents[Math.floor(Math.random() * availableEvents.length)];\n          setCurrentEvent(randomEvent);\n          setShowEvent(true);\n          if (onEvent) {\n            onEvent(randomEvent.effect);\n          }\n\n          // 5ÁßíÂæåËá™ÂãïÈö±Ëóè\n          setTimeout(() => {\n            setShowEvent(false);\n            setTimeout(() => setCurrentEvent(null), 500);\n          }, 5000);\n        }\n      }\n    }\n  }, [timeElapsed, onEvent]);\n  if (!showEvent || !currentEvent) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"random-event-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"random-event-notification\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-icon\",\n        children: currentEvent.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"event-title\",\n          children: language === 'zh' ? currentEvent.title : currentEvent.titleEn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"event-description\",\n          children: language === 'zh' ? currentEvent.description : currentEvent.descriptionEn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-sparkles\",\n        children: [...Array(8)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sparkle\",\n          style: {\n            '--delay': `${i * 0.1}s`\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(RandomEvents, \"X095UB4j/2cpvVT9HKdkSVuNWjc=\", false, function () {\n  return [useLanguage];\n});\n_c = RandomEvents;\nexport default RandomEvents;\nvar _c;\n$RefreshReg$(_c, \"RandomEvents\");","map":{"version":3,"names":["React","useState","useEffect","useLanguage","jsxDEV","_jsxDEV","events","id","title","titleEn","description","descriptionEn","icon","effect","probability","RandomEvents","score","timeElapsed","onEvent","_s","language","currentEvent","setCurrentEvent","showEvent","setShowEvent","shouldTriggerEvent","Math","random","availableEvents","filter","event","length","randomEvent","floor","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Array","map","_","i","style","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/wp1141/hw2/src/components/RandomEvents.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLanguage } from '../contexts/LanguageContext';\r\nimport './RandomEvents.css';\r\n\r\ninterface RandomEventsProps {\r\n  score: number;\r\n  timeElapsed: number;\r\n  onEvent?: (eventType: string) => void;\r\n}\r\n\r\ninterface RandomEvent {\r\n  id: string;\r\n  title: string;\r\n  titleEn: string;\r\n  description: string;\r\n  descriptionEn: string;\r\n  icon: string;\r\n  effect: string;\r\n  probability: number;\r\n}\r\n\r\nconst events: RandomEvent[] = [\r\n  {\r\n    id: 'lucky_drop',\r\n    title: 'Âπ∏ÈÅãÊéâËêΩ',\r\n    titleEn: 'Lucky Drop',\r\n    description: '‰∏ã3È°ÜÁêÉÈÉΩÊòØÂΩ©ËôπÁêÉÔºÅ',\r\n    descriptionEn: 'Next 3 balls are rainbow balls!',\r\n    icon: 'üçÄ',\r\n    effect: 'luckyDrop',\r\n    probability: 0.1,\r\n  },\r\n  {\r\n    id: 'time_freeze',\r\n    title: 'ÊôÇÈñìÂáçÁµê',\r\n    titleEn: 'Time Freeze',\r\n    description: 'ÊôÇÈñìÊö´ÂÅú10ÁßíÔºÅ',\r\n    descriptionEn: 'Time stops for 10 seconds!',\r\n    icon: '‚ùÑÔ∏è',\r\n    effect: 'timeFreeze',\r\n    probability: 0.08,\r\n  },\r\n  {\r\n    id: 'color_chaos',\r\n    title: 'È°èËâ≤Ê∑∑‰∫Ç',\r\n    titleEn: 'Color Chaos',\r\n    description: 'ÊâÄÊúâÁêÉÈö®Ê©üËÆäËâ≤ÔºÅ',\r\n    descriptionEn: 'All balls change colors randomly!',\r\n    icon: 'üåÄ',\r\n    effect: 'colorChaos',\r\n    probability: 0.05,\r\n  },\r\n  {\r\n    id: 'double_points',\r\n    title: 'ÈõôÂÄçÁ©çÂàÜ',\r\n    titleEn: 'Double Points',\r\n    description: 'Êé•‰∏ã‰æÜ30ÁßíÈõôÂÄçÁ©çÂàÜÔºÅ',\r\n    descriptionEn: 'Double points for 30 seconds!',\r\n    icon: '‚≠ê',\r\n    effect: 'doublePoints',\r\n    probability: 0.12,\r\n  },\r\n];\r\n\r\nconst RandomEvents: React.FC<RandomEventsProps> = ({ score, timeElapsed, onEvent }) => {\r\n  const { language } = useLanguage();\r\n  const [currentEvent, setCurrentEvent] = useState<RandomEvent | null>(null);\r\n  const [showEvent, setShowEvent] = useState(false);\r\n\r\n  // ÊØè30ÁßíÊ™¢Êü•‰∏ÄÊ¨°Èö®Ê©ü‰∫ã‰ª∂\r\n  useEffect(() => {\r\n    if (timeElapsed > 0 && timeElapsed % 30 === 0) {\r\n      const shouldTriggerEvent = Math.random() < 0.3; // 30% Ê©üÁéáËß∏Áôº‰∫ã‰ª∂\r\n      \r\n      if (shouldTriggerEvent) {\r\n        const availableEvents = events.filter(event => Math.random() < event.probability);\r\n        \r\n        if (availableEvents.length > 0) {\r\n          const randomEvent = availableEvents[Math.floor(Math.random() * availableEvents.length)];\r\n          setCurrentEvent(randomEvent);\r\n          setShowEvent(true);\r\n          \r\n          if (onEvent) {\r\n            onEvent(randomEvent.effect);\r\n          }\r\n          \r\n          // 5ÁßíÂæåËá™ÂãïÈö±Ëóè\r\n          setTimeout(() => {\r\n            setShowEvent(false);\r\n            setTimeout(() => setCurrentEvent(null), 500);\r\n          }, 5000);\r\n        }\r\n      }\r\n    }\r\n  }, [timeElapsed, onEvent]);\r\n\r\n  if (!showEvent || !currentEvent) return null;\r\n\r\n  return (\r\n    <div className=\"random-event-overlay\">\r\n      <div className=\"random-event-notification\">\r\n        <div className=\"event-icon\">{currentEvent.icon}</div>\r\n        <div className=\"event-content\">\r\n          <h3 className=\"event-title\">\r\n            {language === 'zh' ? currentEvent.title : currentEvent.titleEn}\r\n          </h3>\r\n          <p className=\"event-description\">\r\n            {language === 'zh' ? currentEvent.description : currentEvent.descriptionEn}\r\n          </p>\r\n        </div>\r\n        <div className=\"event-sparkles\">\r\n          {[...Array(8)].map((_, i) => (\r\n            <div key={i} className=\"sparkle\" style={{ '--delay': `${i * 0.1}s` } as React.CSSProperties} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RandomEvents;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,6BAA6B;AACzD,OAAO,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAmB5B,MAAMC,MAAqB,GAAG,CAC5B;EACEC,EAAE,EAAE,YAAY;EAChBC,KAAK,EAAE,MAAM;EACbC,OAAO,EAAE,YAAY;EACrBC,WAAW,EAAE,YAAY;EACzBC,aAAa,EAAE,iCAAiC;EAChDC,IAAI,EAAE,IAAI;EACVC,MAAM,EAAE,WAAW;EACnBC,WAAW,EAAE;AACf,CAAC,EACD;EACEP,EAAE,EAAE,aAAa;EACjBC,KAAK,EAAE,MAAM;EACbC,OAAO,EAAE,aAAa;EACtBC,WAAW,EAAE,UAAU;EACvBC,aAAa,EAAE,4BAA4B;EAC3CC,IAAI,EAAE,IAAI;EACVC,MAAM,EAAE,YAAY;EACpBC,WAAW,EAAE;AACf,CAAC,EACD;EACEP,EAAE,EAAE,aAAa;EACjBC,KAAK,EAAE,MAAM;EACbC,OAAO,EAAE,aAAa;EACtBC,WAAW,EAAE,UAAU;EACvBC,aAAa,EAAE,mCAAmC;EAClDC,IAAI,EAAE,IAAI;EACVC,MAAM,EAAE,YAAY;EACpBC,WAAW,EAAE;AACf,CAAC,EACD;EACEP,EAAE,EAAE,eAAe;EACnBC,KAAK,EAAE,MAAM;EACbC,OAAO,EAAE,eAAe;EACxBC,WAAW,EAAE,aAAa;EAC1BC,aAAa,EAAE,+BAA+B;EAC9CC,IAAI,EAAE,GAAG;EACTC,MAAM,EAAE,cAAc;EACtBC,WAAW,EAAE;AACf,CAAC,CACF;AAED,MAAMC,YAAyC,GAAGA,CAAC;EAAEC,KAAK;EAAEC,WAAW;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACrF,MAAM;IAAEC;EAAS,CAAC,GAAGjB,WAAW,CAAC,CAAC;EAClC,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAqB,IAAI,CAAC;EAC1E,MAAM,CAACsB,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACAC,SAAS,CAAC,MAAM;IACd,IAAIe,WAAW,GAAG,CAAC,IAAIA,WAAW,GAAG,EAAE,KAAK,CAAC,EAAE;MAC7C,MAAMQ,kBAAkB,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC;;MAEhD,IAAIF,kBAAkB,EAAE;QACtB,MAAMG,eAAe,GAAGtB,MAAM,CAACuB,MAAM,CAACC,KAAK,IAAIJ,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGG,KAAK,CAAChB,WAAW,CAAC;QAEjF,IAAIc,eAAe,CAACG,MAAM,GAAG,CAAC,EAAE;UAC9B,MAAMC,WAAW,GAAGJ,eAAe,CAACF,IAAI,CAACO,KAAK,CAACP,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGC,eAAe,CAACG,MAAM,CAAC,CAAC;UACvFT,eAAe,CAACU,WAAW,CAAC;UAC5BR,YAAY,CAAC,IAAI,CAAC;UAElB,IAAIN,OAAO,EAAE;YACXA,OAAO,CAACc,WAAW,CAACnB,MAAM,CAAC;UAC7B;;UAEA;UACAqB,UAAU,CAAC,MAAM;YACfV,YAAY,CAAC,KAAK,CAAC;YACnBU,UAAU,CAAC,MAAMZ,eAAe,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC;UAC9C,CAAC,EAAE,IAAI,CAAC;QACV;MACF;IACF;EACF,CAAC,EAAE,CAACL,WAAW,EAAEC,OAAO,CAAC,CAAC;EAE1B,IAAI,CAACK,SAAS,IAAI,CAACF,YAAY,EAAE,OAAO,IAAI;EAE5C,oBACEhB,OAAA;IAAK8B,SAAS,EAAC,sBAAsB;IAAAC,QAAA,eACnC/B,OAAA;MAAK8B,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBACxC/B,OAAA;QAAK8B,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAEf,YAAY,CAACT;MAAI;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACrDnC,OAAA;QAAK8B,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B/B,OAAA;UAAI8B,SAAS,EAAC,aAAa;UAAAC,QAAA,EACxBhB,QAAQ,KAAK,IAAI,GAAGC,YAAY,CAACb,KAAK,GAAGa,YAAY,CAACZ;QAAO;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACLnC,OAAA;UAAG8B,SAAS,EAAC,mBAAmB;UAAAC,QAAA,EAC7BhB,QAAQ,KAAK,IAAI,GAAGC,YAAY,CAACX,WAAW,GAAGW,YAAY,CAACV;QAAa;UAAA0B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eACNnC,OAAA;QAAK8B,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAC5B,CAAC,GAAGK,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBACtBvC,OAAA;UAAa8B,SAAS,EAAC,SAAS;UAACU,KAAK,EAAE;YAAE,SAAS,EAAE,GAAGD,CAAC,GAAG,GAAG;UAAI;QAAyB,GAAlFA,CAAC;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAmF,CAC/F;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACrB,EAAA,CAtDIJ,YAAyC;EAAA,QACxBZ,WAAW;AAAA;AAAA2C,EAAA,GAD5B/B,YAAyC;AAwD/C,eAAeA,YAAY;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}